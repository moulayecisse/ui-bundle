{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'title', type: 'string | null', default: 'null', description: 'Card title displayed in header' },
        { name: 'description', type: 'string | null', default: 'null', description: 'Card description below title' },
        { name: 'defaultExpanded', type: 'boolean', default: 'true', description: 'Initial expanded/collapsed state' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes for container' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'header', description: 'Custom header content (replaces title/description mode)' },
        { name: 'actions', description: 'Action buttons next to the collapse toggle' },
        { name: 'content', description: 'Main card content (default slot)' },
    ]) }}

    {# Nested Attributes Documentation #}
    {{ ui.nested([
        { name: 'card', description: 'Customize the card container' },
        { name: 'header', description: 'Customize the header button' },
        { name: 'content', description: 'Customize the content wrapper' },
    ]) }}

    {# Basic Collapsible Card - Static Preview #}
    {% set basicPreview %}
        <div class="max-w-lg">
            <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
                <div class="p-4 flex items-center justify-between">
                    <div>
                        <h3 class="font-semibold text-gray-900 dark:text-white">Account Settings</h3>
                    </div>
                    <button class="p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                        <twig:ux:icon name="heroicons:chevron-up-20-solid" class="size-5" />
                    </button>
                </div>
                <div class="px-4 pb-4">
                    <p class="text-gray-600 dark:text-gray-400">
                        Manage your account settings and preferences here. Click the toggle to collapse or expand this section.
                    </p>
                </div>
            </div>
        </div>
    {% endset %}
    {% set basicCode %}&lt;twig:ui:collapsible-card title="Account Settings"&gt;
    &lt;p&gt;Manage your account settings and preferences here.&lt;/p&gt;
&lt;/twig:ui:collapsible-card&gt;{% endset %}
    {{ ui.story('Basic Collapsible Card', basicPreview, basicCode) }}

    {# With Description - Static Preview #}
    {% set descriptionPreview %}
        <div class="max-w-lg">
            <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
                <div class="p-4 flex items-center justify-between">
                    <div>
                        <h3 class="font-semibold text-gray-900 dark:text-white">Notifications</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Configure how you receive notifications</p>
                    </div>
                    <button class="p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                        <twig:ux:icon name="heroicons:chevron-up-20-solid" class="size-5" />
                    </button>
                </div>
                <div class="px-4 pb-4">
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Email notifications</span>
                            <div class="size-10 bg-primary-500 rounded-full relative">
                                <div class="absolute right-0.5 top-0.5 size-5 bg-white rounded-full shadow"></div>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Push notifications</span>
                            <div class="size-10 bg-gray-300 dark:bg-gray-600 rounded-full relative">
                                <div class="absolute left-0.5 top-0.5 size-5 bg-white rounded-full shadow"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endset %}
    {% set descriptionCode %}&lt;twig:ui:collapsible-card title="Notifications" description="Configure how you receive notifications"&gt;
    &lt;twig:ui:switch name="email" label="Email notifications" checked /&gt;
    &lt;twig:ui:switch name="push" label="Push notifications" /&gt;
&lt;/twig:ui:collapsible-card&gt;{% endset %}
    {{ ui.story('With Description', descriptionPreview, descriptionCode) }}

    {# Collapsed by Default - Static Preview #}
    {% set collapsedPreview %}
        <div class="max-w-lg">
            <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
                <div class="p-4 flex items-center justify-between">
                    <div>
                        <h3 class="font-semibold text-gray-900 dark:text-white">Advanced Options</h3>
                    </div>
                    <button class="p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                        <twig:ux:icon name="heroicons:chevron-down-20-solid" class="size-5" />
                    </button>
                </div>
                {# Content is collapsed #}
            </div>
        </div>
    {% endset %}
    {% set collapsedCode %}&lt;twig:ui:collapsible-card title="Advanced Options" :defaultExpanded="false"&gt;
    &lt;p&gt;These are advanced options that are hidden by default.&lt;/p&gt;
&lt;/twig:ui:collapsible-card&gt;{% endset %}
    {{ ui.story('Collapsed by Default', collapsedPreview, collapsedCode) }}

    {# Multiple Cards - Static Preview #}
    {% set multiplePreview %}
        <div class="max-w-lg space-y-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
                <div class="p-4 flex items-center justify-between">
                    <h3 class="font-semibold text-gray-900 dark:text-white">Personal Information</h3>
                    <button class="p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                        <twig:ux:icon name="heroicons:chevron-up-20-solid" class="size-5" />
                    </button>
                </div>
                <div class="px-4 pb-4">
                    <p class="text-gray-600 dark:text-gray-400 text-sm">Your personal details and information.</p>
                </div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
                <div class="p-4 flex items-center justify-between">
                    <h3 class="font-semibold text-gray-900 dark:text-white">Security</h3>
                    <button class="p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                        <twig:ux:icon name="heroicons:chevron-down-20-solid" class="size-5" />
                    </button>
                </div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
                <div class="p-4 flex items-center justify-between">
                    <h3 class="font-semibold text-gray-900 dark:text-white">Billing</h3>
                    <button class="p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                        <twig:ux:icon name="heroicons:chevron-down-20-solid" class="size-5" />
                    </button>
                </div>
            </div>
        </div>
    {% endset %}
    {% set multipleCode %}&lt;div class="space-y-4"&gt;
    &lt;twig:ui:collapsible-card title="Personal Information"&gt;
        &lt;p&gt;...&lt;/p&gt;
    &lt;/twig:ui:collapsible-card&gt;
    &lt;twig:ui:collapsible-card title="Security" :defaultExpanded="false"&gt;
        &lt;p&gt;...&lt;/p&gt;
    &lt;/twig:ui:collapsible-card&gt;
    &lt;twig:ui:collapsible-card title="Billing" :defaultExpanded="false"&gt;
        &lt;p&gt;...&lt;/p&gt;
    &lt;/twig:ui:collapsible-card&gt;
&lt;/div&gt;{% endset %}
    {{ ui.story('Multiple Cards', multiplePreview, multipleCode) }}
</div>
