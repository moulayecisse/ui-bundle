{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'items', type: 'array', default: '[]', description: 'Array of items to display' },
        { name: 'keyField', type: 'string', default: "'id'", description: 'Field to use as unique key for each item' },
        { name: 'selectable', type: 'boolean', default: 'false', description: 'Enable row selection with checkboxes' },
        { name: 'loading', type: 'boolean', default: 'false', description: 'Show loading skeleton' },
        { name: 'loadingItems', type: 'number', default: '5', description: 'Number of skeleton items when loading' },
        { name: 'emptyLabel', type: 'string', default: "'No items found'", description: 'Text to show when no items' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'avatar', description: 'Avatar/icon section for each item' },
        { name: 'content', description: 'Main content area for each item' },
        { name: 'actions', description: 'Action buttons for each item' },
        { name: 'empty', description: 'Custom empty state content' },
    ]) }}

    {# Basic Mobile List #}
    {% set basicPreview %}
        {% set users = [
            { id: 1, name: 'John Doe', email: 'john@example.com', role: 'Admin' },
            { id: 2, name: 'Jane Smith', email: 'jane@example.com', role: 'Editor' },
            { id: 3, name: 'Bob Wilson', email: 'bob@example.com', role: 'User' },
        ] %}
        <div class="max-w-md">
            <twig:ui:mobile-list :items="users">
                {% block avatar %}
                    <twig:ui:avatar name="{{ item.name }}" size="md" />
                {% endblock %}
                {% block content %}
                    <div class="font-medium text-gray-900 dark:text-white">{{ item.name }}</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">{{ item.email }}</div>
                    <twig:ui:badge size="sm" variant="secondary" class="mt-1">{{ item.role }}</twig:ui:badge>
                {% endblock %}
                {% block actions %}
                    <twig:ui:button size="sm" variant="ghost">
                        <twig:ux:icon name="heroicons:ellipsis-vertical" class="size-4" />
                    </twig:ui:button>
                {% endblock %}
            </twig:ui:mobile-list>
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:ui:mobile-list :items="users">
    {% block avatar %}
        <twig:ui:avatar name="{{ item.name }}" />
    {% endblock %}
    {% block content %}
        <div class="font-medium">{{ item.name }}</div>
        <div class="text-sm text-gray-500">{{ item.email }}</div>
    {% endblock %}
    {% block actions %}
        <twig:ui:button size="sm" variant="ghost">Edit</twig:ui:button>
    {% endblock %}
</twig:ui:mobile-list>{% endverbatim %}{% endset %}
    {{ ui.story('Basic Mobile List', basicPreview, basicCode) }}

    {# Selectable #}
    {% set selectablePreview %}
        {% set items = [
            { id: 1, name: 'Document A', type: 'PDF', size: '2.5 MB' },
            { id: 2, name: 'Document B', type: 'DOC', size: '1.2 MB' },
            { id: 3, name: 'Document C', type: 'XLS', size: '3.8 MB' },
        ] %}
        <div class="max-w-md">
            <twig:ui:mobile-list :items="items" :selectable="true">
                {% block content %}
                    <div class="font-medium text-gray-900 dark:text-white">{{ item.name }}</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">{{ item.type }} â€¢ {{ item.size }}</div>
                {% endblock %}
            </twig:ui:mobile-list>
        </div>
    {% endset %}
    {% set selectableCode %}{% verbatim %}<twig:ui:mobile-list :items="items" :selectable="true">
    {% block content %}
        <div class="font-medium">{{ item.name }}</div>
        <div class="text-sm text-gray-500">{{ item.type }}</div>
    {% endblock %}
</twig:ui:mobile-list>{% endverbatim %}{% endset %}
    {{ ui.story('Selectable', selectablePreview, selectableCode) }}

    {# Loading State #}
    {% set loadingPreview %}
        <div class="max-w-md">
            <twig:ui:mobile-list :items="[]" :loading="true" :loadingItems="3" />
        </div>
    {% endset %}
    {% set loadingCode %}{% verbatim %}<twig:ui:mobile-list :items="[]" :loading="true" :loadingItems="3" />{% endverbatim %}{% endset %}
    {{ ui.story('Loading State', loadingPreview, loadingCode) }}

    {# Empty State #}
    {% set emptyPreview %}
        <div class="max-w-md">
            <twig:ui:mobile-list :items="[]" emptyLabel="No users found" />
        </div>
    {% endset %}
    {% set emptyCode %}{% verbatim %}<twig:ui:mobile-list :items="[]" emptyLabel="No users found" />

{# Custom empty state #}
<twig:ui:mobile-list :items="[]">
    {% block empty %}
        <twig:ui:empty-state
            icon="heroicons:users"
            title="No users yet"
            description="Add your first user to get started"
        />
    {% endblock %}
</twig:ui:mobile-list>{% endverbatim %}{% endset %}
    {{ ui.story('Empty State', emptyPreview, emptyCode) }}

    {# Use Case Note #}
    <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4">
        <h4 class="font-semibold text-amber-900 dark:text-amber-100 mb-2">When to Use</h4>
        <p class="text-sm text-amber-800 dark:text-amber-200">
            Use <code class="bg-amber-100 dark:bg-amber-800 px-1 rounded">mobile-list</code> for touch-friendly card-based layouts, especially on mobile devices.
            For responsive designs that switch between table and card views, use <code class="bg-amber-100 dark:bg-amber-800 px-1 rounded">responsive-list</code> instead.
        </p>
    </div>
</div>
