{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'size', type: "'default' | 'sm' | 'lg' | 'xl' | 'full'", default: "'default'", description: 'Modal width size' },
        { name: 'closeOnBackdrop', type: 'boolean', default: 'true', description: 'Close when clicking backdrop' },
        { name: 'closeOnEscape', type: 'boolean', default: 'true', description: 'Close when pressing Escape key' },
        { name: 'open', type: 'boolean', default: 'false', description: 'Initial open state' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'trigger', description: 'Element that triggers opening the modal (default: a button)' },
        { name: 'content', description: 'Modal body content' },
    ]) }}

    {# Basic Modal #}
    {% set basicPreview %}
        <twig:Ui:modal>
            <twig:block name="trigger">
                <twig:Ui:button primary>Open Modal</twig:Ui:button>
            </twig:block>
            <div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Modal Title</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    This is a basic modal dialog. You can put any content here.
                </p>
                <div class="flex justify-end gap-2">
                    <twig:Ui:button white data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:Ui:button>
                    <twig:Ui:button primary>Confirm</twig:Ui:button>
                </div>
            </div>
        </twig:Ui:modal>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:Ui:modal>
    {% block trigger %}
        <twig:Ui:button primary>Open Modal</twig:Ui:button>
    {% endblock %}
    {% block content %}
        <h3 class="text-lg font-semibold">Modal Title</h3>
        <p>Modal content goes here...</p>
        <div class="flex justify-end gap-2">
            <twig:Ui:button white data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:Ui:button>
            <twig:Ui:button primary>Confirm</twig:Ui:button>
        </div>
    {% endblock %}
</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Basic Modal', basicPreview, basicCode) }}

    {# Size Options #}
    {% set sizesPreview %}
        <div class="bg-gray-100 dark:bg-gray-800 rounded-lg p-6">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                Modal supports different sizes:
            </p>
            <div class="grid grid-cols-5 gap-2 text-center text-xs">
                <div class="bg-white dark:bg-gray-900 rounded p-2">sm<br><span class="text-gray-400">max-w-sm</span></div>
                <div class="bg-white dark:bg-gray-900 rounded p-2">default<br><span class="text-gray-400">max-w-[584px]</span></div>
                <div class="bg-white dark:bg-gray-900 rounded p-2">lg<br><span class="text-gray-400">max-w-2xl</span></div>
                <div class="bg-white dark:bg-gray-900 rounded p-2">xl<br><span class="text-gray-400">max-w-4xl</span></div>
                <div class="bg-white dark:bg-gray-900 rounded p-2">full<br><span class="text-gray-400">max-w-full</span></div>
            </div>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:Ui:modal size="sm">...</twig:Ui:modal>
<twig:Ui:modal size="lg">...</twig:Ui:modal>
<twig:Ui:modal size="xl">...</twig:Ui:modal>
<twig:Ui:modal size="full">...</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Size Options', sizesPreview, sizesCode) }}

    {# Non-dismissible Modal #}
    {% set nonDismissiblePreview %}
        <twig:Ui:modal :closeOnBackdrop="false" :closeOnEscape="false">
            <twig:block name="trigger">
                <twig:Ui:button warning>Open Non-dismissible</twig:Ui:button>
            </twig:block>
            <div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Important Action</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    This modal cannot be closed by clicking outside or pressing Escape. You must click a button.
                </p>
                <div class="flex justify-end">
                    <twig:Ui:button primary data-action="click->cisse--ui-bundle--modal#close">I Understand</twig:Ui:button>
                </div>
            </div>
        </twig:Ui:modal>
    {% endset %}
    {% set nonDismissibleCode %}{% verbatim %}<twig:Ui:modal :closeOnBackdrop="false" :closeOnEscape="false">
    {% block trigger %}
        <twig:Ui:button warning>Open Non-dismissible</twig:Ui:button>
    {% endblock %}
    {% block content %}
        <h3>Important Action</h3>
        <p>This modal requires explicit action to close.</p>
        <twig:Ui:button primary data-action="click->cisse--ui-bundle--modal#close">
            I Understand
        </twig:Ui:button>
    {% endblock %}
</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Non-dismissible Modal', nonDismissiblePreview, nonDismissibleCode) }}
</div>
