{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'title', type: 'string', default: 'null', description: 'Modal title in header' },
        { name: 'description', type: 'string', default: 'null', description: 'Description text below title' },
        { name: 'size', type: "'default' | 'sm' | 'lg' | 'xl' | 'full'", default: "'default'", description: 'Modal width size' },
        { name: 'closeOnBackdrop', type: 'boolean', default: 'true', description: 'Close when clicking backdrop' },
        { name: 'closeOnEscape', type: 'boolean', default: 'true', description: 'Close when pressing Escape key' },
        { name: 'closeButtonLabel', type: 'string', default: "'Close'", description: 'Screen reader label for close button' },
        { name: 'open', type: 'boolean', default: 'false', description: 'Initial open state' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'trigger', description: 'Element that triggers opening the modal' },
        { name: 'header', description: 'Custom header content (overrides title)' },
        { name: 'content', description: 'Modal body content' },
        { name: 'footer', description: 'Footer with action buttons' },
    ]) }}

    {# Basic Modal with Title #}
    {% set basicPreview %}
        <twig:Ui:modal title="Modal Title" description="This is a description of the modal content.">
            <twig:block name="trigger">
                <twig:Ui:button variant="primary">Open Modal</twig:Ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    This modal has a title and description in the header. The close button appears on the right.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:Ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:Ui:button>
                <twig:Ui:button variant="primary">Confirm</twig:Ui:button>
            </twig:block>
        </twig:Ui:modal>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:Ui:modal title="Modal Title" description="Description text">
    {% block trigger %}
        <twig:Ui:button variant="primary">Open Modal</twig:Ui:button>
    {% endblock %}
    {% block content %}
        <p>Modal content goes here...</p>
    {% endblock %}
    {% block footer %}
        <twig:Ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:Ui:button>
        <twig:Ui:button variant="primary">Confirm</twig:Ui:button>
    {% endblock %}
</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Modal with Title & Footer', basicPreview, basicCode) }}

    {# Simple Modal (no header) #}
    {% set simplePreview %}
        <twig:Ui:modal>
            <twig:block name="trigger">
                <twig:Ui:button variant="outline">Simple Modal</twig:Ui:button>
            </twig:block>
            <twig:block name="content">
                <div class="text-center py-4">
                    <twig:ux:icon name="lucide:check-circle" class="size-16 text-green-500 mx-auto mb-4" />
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Success!</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-6">Your action was completed successfully.</p>
                    <twig:Ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">Close</twig:Ui:button>
                </div>
            </twig:block>
        </twig:Ui:modal>
    {% endset %}
    {% set simpleCode %}{% verbatim %}<twig:Ui:modal>
    {% block trigger %}
        <twig:Ui:button variant="outline">Simple Modal</twig:Ui:button>
    {% endblock %}
    {% block content %}
        <div class="text-center py-4">
            <h3>Success!</h3>
            <p>Your action was completed.</p>
            <twig:Ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">Close</twig:Ui:button>
        </div>
    {% endblock %}
</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Simple Modal (no header)', simplePreview, simpleCode) }}

    {# Size Options #}
    {% set sizesPreview %}
        <div class="flex flex-wrap gap-3">
            <twig:Ui:modal size="sm" title="Small Modal">
                <twig:block name="trigger">
                    <twig:Ui:button variant="outline" size="sm">Small</twig:Ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is a small modal (max-w-md).</p>
                </twig:block>
            </twig:Ui:modal>
            <twig:Ui:modal size="default" title="Default Modal">
                <twig:block name="trigger">
                    <twig:Ui:button variant="outline" size="sm">Default</twig:Ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is the default modal size (max-w-3xl).</p>
                </twig:block>
            </twig:Ui:modal>
            <twig:Ui:modal size="lg" title="Large Modal">
                <twig:block name="trigger">
                    <twig:Ui:button variant="outline" size="sm">Large</twig:Ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is a large modal (max-w-5xl).</p>
                </twig:block>
            </twig:Ui:modal>
            <twig:Ui:modal size="xl" title="Extra Large Modal">
                <twig:block name="trigger">
                    <twig:Ui:button variant="outline" size="sm">XL</twig:Ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is an extra large modal (max-w-7xl).</p>
                </twig:block>
            </twig:Ui:modal>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:Ui:modal size="sm" title="Small">...</twig:Ui:modal>
<twig:Ui:modal size="default" title="Default">...</twig:Ui:modal>
<twig:Ui:modal size="lg" title="Large">...</twig:Ui:modal>
<twig:Ui:modal size="xl" title="Extra Large">...</twig:Ui:modal>
<twig:Ui:modal size="full" title="Full Width">...</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Size Options', sizesPreview, sizesCode) }}

    {# Non-dismissible Modal #}
    {% set nonDismissiblePreview %}
        <twig:Ui:modal title="Important Action" :closeOnBackdrop="false" :closeOnEscape="false">
            <twig:block name="trigger">
                <twig:Ui:button variant="danger">Open Non-dismissible</twig:Ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    This modal cannot be closed by clicking outside or pressing Escape. You must click a button to close it.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:Ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">I Understand</twig:Ui:button>
            </twig:block>
        </twig:Ui:modal>
    {% endset %}
    {% set nonDismissibleCode %}{% verbatim %}<twig:Ui:modal
    title="Important Action"
    :closeOnBackdrop="false"
    :closeOnEscape="false"
>
    {% block content %}
        <p>This modal requires explicit action to close.</p>
    {% endblock %}
    {% block footer %}
        <twig:Ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">
            I Understand
        </twig:Ui:button>
    {% endblock %}
</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Non-dismissible Modal', nonDismissiblePreview, nonDismissibleCode) }}

    {# Confirmation Dialog Style #}
    {% set confirmPreview %}
        <twig:Ui:modal size="sm" title="Delete Item">
            <twig:block name="trigger">
                <twig:Ui:button variant="danger" icon="lucide:trash">Delete</twig:Ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    Are you sure you want to delete this item? This action cannot be undone.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:Ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:Ui:button>
                <twig:Ui:button variant="danger">Delete</twig:Ui:button>
            </twig:block>
        </twig:Ui:modal>
    {% endset %}
    {% set confirmCode %}{% verbatim %}<twig:Ui:modal size="sm" title="Delete Item">
    {% block trigger %}
        <twig:Ui:button variant="danger" icon="lucide:trash">Delete</twig:Ui:button>
    {% endblock %}
    {% block content %}
        <p>Are you sure you want to delete this item?</p>
    {% endblock %}
    {% block footer %}
        <twig:Ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:Ui:button>
        <twig:Ui:button variant="danger">Delete</twig:Ui:button>
    {% endblock %}
</twig:Ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Confirmation Dialog Style', confirmPreview, confirmCode) }}
</div>
