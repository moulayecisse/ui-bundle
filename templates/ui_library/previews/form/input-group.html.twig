{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'form', type: 'FormView | null', default: 'null', description: 'Symfony form field' },
        { name: 'type', type: 'string | null', default: 'null', description: 'Input type (auto-detected from form)' },
        { name: 'name', type: 'string | null', default: 'null', description: 'Field name' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Field ID' },
        { name: 'value', type: 'mixed', default: 'null', description: 'Input value' },
        { name: 'layout', type: "'vertical' | 'horizontal'", default: "'vertical'", description: 'Label/input layout' },
        { name: 'col', type: 'number | null', default: 'null', description: 'Column span (1-12)' },
        { name: 'size', type: "'sm' | 'md' | 'lg'", default: "'md'", description: 'Input size' },
        { name: 'variant', type: "'default' | 'filled' | 'flushed'", default: "'default'", description: 'Input variant' },
        { name: 'rounded', type: "'none' | 'sm' | 'md' | 'lg' | 'xl' | 'full'", default: "'lg'", description: 'Border radius' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Nested Attributes #}
    {{ ui.slots([
        { name: 'wrapper:*', description: 'Attributes passed to the outer container' },
        { name: 'label:text', description: 'Label text content' },
        { name: 'label:col', description: 'Label columns in horizontal layout (default: 4)' },
        { name: 'label:class', description: 'Additional classes for label' },
        { name: 'input:placeholder', description: 'Input placeholder text' },
        { name: 'input:required', description: 'Mark input as required (boolean attribute)' },
        { name: 'input:disabled', description: 'Mark input as disabled (boolean attribute)' },
        { name: 'input:col', description: 'Input columns in horizontal layout (default: 8)' },
        { name: 'input:class', description: 'Additional classes for input' },
        { name: 'help:text', description: 'Help text below input' },
        { name: 'help:class', description: 'Additional classes for help text' },
        { name: 'error:text', description: 'Error message' },
        { name: 'error:class', description: 'Additional classes for error message' },
    ]) }}

    {# Description #}
    <div class="prose prose-sm dark:prose-invert max-w-none mb-6">
        <p>
            The Input Group component wraps a form field with its label, input, help text, and error message.
            It supports vertical and horizontal layouts, column spanning in grids, and full Symfony form integration.
        </p>
    </div>

    {# Basic Vertical Layout #}
    {% set basicPreview %}
        <div class="max-w-md">
            <twig:ui:input-group
                name="username"
                label:text="Username"
                help:text="Choose a unique username"
                input:placeholder="Enter username"
            />
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:ui:input-group
    name="username"
    label:text="Username"
    help:text="Choose a unique username"
    input:placeholder="Enter username"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Basic (Vertical)', basicPreview, basicCode) }}

    {# With Error #}
    {% set errorPreview %}
        <div class="max-w-md">
            <twig:ui:input-group
                name="email"
                type="email"
                label:text="Email Address"
                value="invalid-email"
                error:text="Please enter a valid email address"
            />
        </div>
    {% endset %}
    {% set errorCode %}{% verbatim %}<twig:ui:input-group
    name="email"
    type="email"
    label:text="Email Address"
    value="invalid-email"
    error:text="Please enter a valid email address"
/>{% endverbatim %}{% endset %}
    {{ ui.story('With Error', errorPreview, errorCode) }}

    {# Horizontal Layout #}
    {% set horizontalPreview %}
        <div class="max-w-xl">
            <twig:ui:input-group
                name="company"
                label:text="Company Name"
                layout="horizontal"
                input:placeholder="Enter company name"
                help:text="Your registered business name"
            />
        </div>
    {% endset %}
    {% set horizontalCode %}{% verbatim %}<twig:ui:input-group
    name="company"
    label:text="Company Name"
    layout="horizontal"
    input:placeholder="Enter company name"
    help:text="Your registered business name"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Horizontal Layout', horizontalPreview, horizontalCode) }}

    {# Custom Column Ratio #}
    {% set ratioPreview %}
        <div class="max-w-xl">
            <twig:ui:input-group
                name="description"
                type="textarea"
                label:text="Description"
                label:col="3"
                input:col="9"
                layout="horizontal"
                input:placeholder="Enter description..."
            />
        </div>
    {% endset %}
    {% set ratioCode %}{% verbatim %}<twig:ui:input-group
    name="description"
    type="textarea"
    label:text="Description"
    label:col="3"
    input:col="9"
    layout="horizontal"
    input:placeholder="Enter description..."
/>{% endverbatim %}{% endset %}
    {{ ui.story('Custom Column Ratio (3:9)', ratioPreview, ratioCode) }}

    {# Grid Example with Column Spans #}
    {% set gridPreview %}
        <div class="grid grid-cols-12 gap-6 max-w-2xl">
            <twig:ui:input-group
                name="firstName"
                label:text="First Name"
                input:placeholder="John"
            />
            <twig:ui:input-group
                name="lastName"
                label:text="Last Name"
                input:placeholder="Doe"
            />
            <twig:ui:input-group
                name="email"
                type="email"
                label:text="Email"
                :col="12"
                input:placeholder="john@example.com"
            />
            <twig:ui:input-group
                name="city"
                label:text="City"
                :col="8"
                input:placeholder="New York"
            />
            <twig:ui:input-group
                name="zip"
                label:text="ZIP"
                :col="4"
                input:placeholder="10001"
            />
        </div>
    {% endset %}
    {% set gridCode %}{% verbatim %}<div class="grid grid-cols-12 gap-6">
    {# Default: 12 on mobile, 6 on desktop #}
    <twig:ui:input-group name="firstName" label:text="First Name" />
    <twig:ui:input-group name="lastName" label:text="Last Name" />

    {# Full width #}
    <twig:ui:input-group name="email" type="email" label:text="Email" :col="12" />

    {# Custom column spans #}
    <twig:ui:input-group name="city" label:text="City" :col="8" />
    <twig:ui:input-group name="zip" label:text="ZIP" :col="4" />
</div>{% endverbatim %}{% endset %}
    {{ ui.story('Grid with Column Spans', gridPreview, gridCode) }}

    {# Different Input Types #}
    {% set typesPreview %}
        <div class="grid grid-cols-12 gap-6 max-w-2xl">
            <twig:ui:input-group
                name="password"
                type="password"
                label:text="Password"
                help:text="Minimum 8 characters"
            />
            <twig:ui:input-group
                name="search"
                type="search"
                label:text="Search"
                input:placeholder="Search..."
            />
            <twig:ui:input-group
                name="amount"
                type="money"
                label:text="Amount"
                :col="6"
            />
            <twig:ui:input-group
                name="percentage"
                type="percent"
                label:text="Percentage"
                :col="6"
            />
        </div>
    {% endset %}
    {% set typesCode %}{% verbatim %}<div class="grid grid-cols-12 gap-6">
    <twig:ui:input-group name="password" type="password" label:text="Password" />
    <twig:ui:input-group name="search" type="search" label:text="Search" />
    <twig:ui:input-group name="amount" type="money" label:text="Amount" />
    <twig:ui:input-group name="percentage" type="percent" label:text="Percentage" />
</div>{% endverbatim %}{% endset %}
    {{ ui.story('Different Input Types', typesPreview, typesCode) }}

    {# Checkbox Layout #}
    {% set checkboxPreview %}
        <div class="max-w-md">
            <twig:ui:input-group
                name="terms"
                type="checkbox"
                label:text="I agree to the terms and conditions"
                help:text="You must agree before submitting"
            />
        </div>
    {% endset %}
    {% set checkboxCode %}{% verbatim %}<twig:ui:input-group
    name="terms"
    type="checkbox"
    label:text="I agree to the terms and conditions"
    help:text="You must agree before submitting"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Checkbox Layout', checkboxPreview, checkboxCode) }}

    {# Required Field #}
    {% set requiredPreview %}
        <div class="max-w-md">
            <twig:ui:input-group
                name="email"
                type="email"
                label:text="Email Address"
                input:required
                input:placeholder="required@example.com"
            />
        </div>
    {% endset %}
    {% set requiredCode %}{% verbatim %}<twig:ui:input-group
    name="email"
    type="email"
    label:text="Email Address"
    input:required
    input:placeholder="required@example.com"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Required Field', requiredPreview, requiredCode) }}

    {# Nested Attributes Customization #}
    {% set nestedPreview %}
        <div class="max-w-md">
            <twig:ui:input-group
                name="custom"
                label:text="Custom Styled Field"
                help:text="With nested attributes"
                label:class="text-primary font-bold"
                help:class="text-blue-500"
                wrapper:class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"
            />
        </div>
    {% endset %}
    {% set nestedCode %}{% verbatim %}<twig:ui:input-group
    name="custom"
    label:text="Custom Styled Field"
    help:text="With nested attributes"
    label:class="text-primary font-bold"
    help:class="text-blue-500"
    wrapper:class="bg-gray-50 p-4 rounded-lg"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Nested Attributes Customization', nestedPreview, nestedCode) }}
</div>
