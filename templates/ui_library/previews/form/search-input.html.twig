{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'name', type: 'string | null', default: 'null', description: 'Form field name' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Input element ID' },
        { name: 'value', type: 'string | null', default: 'null', description: 'Input value' },
        { name: 'icon', type: 'string', default: "'heroicons:magnifying-glass'", description: 'Icon name for the search icon' },
        { name: 'placeholder', type: 'string', default: "'Search...'", description: 'Placeholder text' },
        { name: 'size', type: "'sm' | 'md' | 'lg'", default: "'md'", description: 'Input size' },
        { name: 'variant', type: "'default' | 'filled' | 'flushed' | 'unstyled'", default: "'default'", description: 'Input style variant' },
        { name: 'rounded', type: "'none' | 'sm' | 'md' | 'lg' | 'xl' | 'full'", default: "'lg'", description: 'Border radius' },
        { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
        { name: 'autofocus', type: 'boolean', default: 'false', description: 'Autofocus on load' },
        { name: 'required', type: 'boolean', default: 'false', description: 'Required field' },
        { name: 'autocomplete', type: 'string | null', default: 'null', description: 'Autocomplete attribute' },
        { name: 'form', type: 'FormView | null', default: 'null', description: 'Symfony form field' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Nested Attributes #}
    {{ ui.slots([
        { name: 'wrapper:*', description: 'Attributes passed to the input-wrapper element' },
        { name: 'icon:*', description: 'Attributes passed to the search icon (e.g., icon:name to change icon)' },
        { name: 'input:*', description: 'Attributes passed to the input element' },
    ]) }}

    {# Default #}
    {% set defaultPreview %}
        <div class="max-w-md">
            <twig:ui:input:search />
        </div>
    {% endset %}
    {% set defaultCode %}{% verbatim %}<twig:ui:input:search />{% endverbatim %}{% endset %}
    {{ ui.story('Default', defaultPreview, defaultCode) }}

    {# With Placeholder #}
    {% set placeholderPreview %}
        <div class="max-w-md">
            <twig:ui:input:search placeholder="Search products..." />
        </div>
    {% endset %}
    {% set placeholderCode %}{% verbatim %}<twig:ui:input:search placeholder="Search products..." />{% endverbatim %}{% endset %}
    {{ ui.story('With Placeholder', placeholderPreview, placeholderCode) }}

    {# Sizes #}
    {% set sizesPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Small</span>
                <twig:ui:input:search size="sm" placeholder="Small search" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Medium (default)</span>
                <twig:ui:input:search size="md" placeholder="Medium search" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Large</span>
                <twig:ui:input:search size="lg" placeholder="Large search" />
            </div>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:ui:input:search size="sm" />
<twig:ui:input:search size="md" />
<twig:ui:input:search size="lg" />{% endverbatim %}{% endset %}
    {{ ui.story('Sizes', sizesPreview, sizesCode) }}

    {# Variants #}
    {% set variantsPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Default</span>
                <twig:ui:input:search variant="default" placeholder="Default variant" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Filled</span>
                <twig:ui:input:search variant="filled" placeholder="Filled variant" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Flushed</span>
                <twig:ui:input:search variant="flushed" placeholder="Flushed variant" />
            </div>
        </div>
    {% endset %}
    {% set variantsCode %}{% verbatim %}<twig:ui:input:search variant="default" />
<twig:ui:input:search variant="filled" />
<twig:ui:input:search variant="flushed" />{% endverbatim %}{% endset %}
    {{ ui.story('Variants', variantsPreview, variantsCode) }}

    {# Rounded #}
    {% set roundedPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-1 block">None</span>
                <twig:ui:input:search rounded="none" placeholder="No rounding" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Medium</span>
                <twig:ui:input:search rounded="md" placeholder="Medium rounding" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Full</span>
                <twig:ui:input:search rounded="full" placeholder="Full rounding" />
            </div>
        </div>
    {% endset %}
    {% set roundedCode %}{% verbatim %}<twig:ui:input:search rounded="none" />
<twig:ui:input:search rounded="md" />
<twig:ui:input:search rounded="full" />{% endverbatim %}{% endset %}
    {{ ui.story('Rounded', roundedPreview, roundedCode) }}

    {# Custom Icon #}
    {% set iconPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Default icon</span>
                <twig:ui:input:search placeholder="Search..." />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Custom icon (via prop)</span>
                <twig:ui:input:search icon="heroicons:funnel" placeholder="Filter..." />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Custom icon (via nested attribute)</span>
                <twig:ui:input:search icon:name="heroicons:adjustments-horizontal" placeholder="Settings..." />
            </div>
        </div>
    {% endset %}
    {% set iconCode %}{% verbatim %}{# Default magnifying glass icon #}
<twig:ui:input:search placeholder="Search..." />

{# Custom icon using prop #}
<twig:ui:input:search icon="heroicons:funnel" placeholder="Filter..." />

{# Custom icon using nested attributes #}
<twig:ui:input:search icon:name="heroicons:adjustments-horizontal" placeholder="Settings..." />{% endverbatim %}{% endset %}
    {{ ui.story('Custom Icon', iconPreview, iconCode) }}

    {# With Label #}
    {% set labelPreview %}
        <div class="max-w-md">
            <twig:ui:label for="search-label">Search</twig:ui:label>
            <twig:ui:input:search name="search-label" id="search-label" placeholder="Search articles..." />
        </div>
    {% endset %}
    {% set labelCode %}{% verbatim %}<twig:ui:label for="search">Search</twig:ui:label>
<twig:ui:input:search name="search" id="search" placeholder="Search articles..." />{% endverbatim %}{% endset %}
    {{ ui.story('With Label', labelPreview, labelCode) }}

    {# Disabled #}
    {% set disabledPreview %}
        <div class="max-w-md">
            <twig:ui:input:search value="Disabled search" disabled />
        </div>
    {% endset %}
    {% set disabledCode %}{% verbatim %}<twig:ui:input:search value="Disabled search" disabled />{% endverbatim %}{% endset %}
    {{ ui.story('Disabled', disabledPreview, disabledCode) }}
</div>
