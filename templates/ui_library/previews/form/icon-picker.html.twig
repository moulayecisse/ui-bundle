{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'name', type: 'string', default: "'icon'", description: 'Form field name' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Input element ID' },
        { name: 'value', type: 'string', default: "''", description: 'Selected icon name (e.g., "mdi:heart")' },
        { name: 'label', type: 'string | null', default: 'null', description: 'Label text' },
        { name: 'placeholder', type: 'string', default: "'Search for an icon...'", description: 'Placeholder text' },
        { name: 'help', type: 'string | null', default: 'null', description: 'Help text below input' },
        { name: 'error', type: 'string | null', default: 'null', description: 'Error message' },
        { name: 'required', type: 'boolean', default: 'false', description: 'Required field' },
        { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
        { name: 'collections', type: 'string', default: "'mdi,heroicons,lucide'", description: 'Comma-separated icon collection names for search' },
        { name: 'limit', type: 'number', default: '48', description: 'Maximum icons to show in search results' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Features #}
    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6">
        <h4 class="font-semibold text-blue-900 dark:text-blue-100 mb-2">Features</h4>
        <ul class="text-sm text-blue-800 dark:text-blue-200 space-y-1">
            <li>• Search icons from Iconify API (mdi, heroicons, lucide, etc.)</li>
            <li>• Pre-populated with popular icons</li>
            <li>• Displays selected icon with its name</li>
            <li>• Clear button to reset selection</li>
            <li>• Hidden input for form submission</li>
        </ul>
    </div>

    {# Basic Icon Picker #}
    {% set basicPreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon" />
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:ui:icon-picker name="icon" />{% endverbatim %}{% endset %}
    {{ ui.story('Basic Icon Picker', basicPreview, basicCode) }}

    {# With Label #}
    {% set labelPreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon-label" label="Select an Icon" />
        </div>
    {% endset %}
    {% set labelCode %}{% verbatim %}<twig:ui:icon-picker name="icon" label="Select an Icon" />{% endverbatim %}{% endset %}
    {{ ui.story('With Label', labelPreview, labelCode) }}

    {# With Pre-selected Value #}
    {% set valuePreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon-value" label="Category Icon" value="mdi:heart" />
        </div>
    {% endset %}
    {% set valueCode %}{% verbatim %}<twig:ui:icon-picker name="icon" label="Category Icon" value="mdi:heart" />{% endverbatim %}{% endset %}
    {{ ui.story('With Pre-selected Value', valuePreview, valueCode) }}

    {# With Help Text #}
    {% set helpPreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon-help" label="Choose Icon" help="Search or select from popular icons" />
        </div>
    {% endset %}
    {% set helpCode %}{% verbatim %}<twig:ui:icon-picker name="icon" label="Choose Icon" help="Search or select from popular icons" />{% endverbatim %}{% endset %}
    {{ ui.story('With Help Text', helpPreview, helpCode) }}

    {# Required #}
    {% set requiredPreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon-required" label="Icon" required />
        </div>
    {% endset %}
    {% set requiredCode %}{% verbatim %}<twig:ui:icon-picker name="icon" label="Icon" required />{% endverbatim %}{% endset %}
    {{ ui.story('Required', requiredPreview, requiredCode) }}

    {# With Error #}
    {% set errorPreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon-error" label="Icon" error="Please select an icon" />
        </div>
    {% endset %}
    {% set errorCode %}{% verbatim %}<twig:ui:icon-picker name="icon" label="Icon" error="Please select an icon" />{% endverbatim %}{% endset %}
    {{ ui.story('With Error', errorPreview, errorCode) }}

    {# Custom Collections #}
    {% set collectionsPreview %}
        <div class="max-w-sm">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                Restrict search to specific icon collections.
            </p>
            <twig:ui:icon-picker name="icon-collections" label="Heroicons Only" collections="heroicons" />
        </div>
    {% endset %}
    {% set collectionsCode %}{% verbatim %}<twig:ui:icon-picker name="icon" collections="heroicons" />
{# Or multiple collections #}
<twig:ui:icon-picker name="icon" collections="mdi,heroicons,lucide" />{% endverbatim %}{% endset %}
    {{ ui.story('Custom Collections', collectionsPreview, collectionsCode) }}

    {# Disabled #}
    {% set disabledPreview %}
        <div class="max-w-sm">
            <twig:ui:icon-picker name="icon-disabled" label="Icon" value="mdi:star" disabled />
        </div>
    {% endset %}
    {% set disabledCode %}{% verbatim %}<twig:ui:icon-picker name="icon" value="mdi:star" disabled />{% endverbatim %}{% endset %}
    {{ ui.story('Disabled', disabledPreview, disabledCode) }}
</div>
