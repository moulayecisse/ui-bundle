{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'name', type: 'string | null', default: 'null', description: 'Form field name for submission' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Input element ID' },
        { name: 'value', type: 'string', default: "''", description: 'Textarea value' },
        { name: 'rows', type: 'number', default: '3', description: 'Number of visible text rows' },
        { name: 'label', type: 'string | null', default: 'null', description: 'Label text above the textarea' },
        { name: 'placeholder', type: 'string | null', default: 'null', description: 'Placeholder text' },
        { name: 'hint', type: 'string | null', default: 'null', description: 'Helper text below the textarea' },
        { name: 'error', type: 'string | null', default: 'null', description: 'Error message (replaces hint when present)' },
        { name: 'maxLength', type: 'number | null', default: 'null', description: 'Maximum character limit' },
        { name: 'showCount', type: 'boolean', default: 'false', description: 'Show character count' },
        { name: 'resize', type: "'none' | 'vertical' | 'horizontal' | 'both'", default: "'vertical'", description: 'Resize behavior' },
        { name: 'size', type: "'sm' | 'md' | 'lg'", default: "'md'", description: 'Text and padding size' },
        { name: 'required', type: 'boolean', default: 'false', description: 'Whether field is required' },
        { name: 'autofocus', type: 'boolean', default: 'false', description: 'Autofocus on page load' },
        { name: 'disabled', type: 'boolean', default: 'false', description: 'Disable the textarea' },
        { name: 'readonly', type: 'boolean', default: 'false', description: 'Make textarea read-only' },
        { name: 'form', type: 'FormView | null', default: 'null', description: 'Symfony form field for auto-configuration' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'content', description: 'Default slot for textarea content/value' },
    ]) }}

    {# Basic Textarea #}
    {% set basicPreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea name="basic" placeholder="Enter your message..." rows="4" />
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:ui:input:textarea name="basic" placeholder="Enter your message..." rows="4" />{% endverbatim %}{% endset %}
    {{ ui.story('Basic Textarea', basicPreview, basicCode) }}

    {# With Label #}
    {% set labelPreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea name="message" label="Your Message" placeholder="Type your message here..." rows="4" />
        </div>
    {% endset %}
    {% set labelCode %}{% verbatim %}<twig:ui:input:textarea
    name="message"
    label="Your Message"
    placeholder="Type your message here..."
    rows="4"
/>{% endverbatim %}{% endset %}
    {{ ui.story('With Label', labelPreview, labelCode) }}

    {# With Hint #}
    {% set hintPreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea
                name="bio"
                label="Bio"
                hint="Tell us about yourself in a few sentences."
                placeholder="Write a short bio..."
                rows="3"
            />
        </div>
    {% endset %}
    {% set hintCode %}{% verbatim %}<twig:ui:input:textarea
    name="bio"
    label="Bio"
    hint="Tell us about yourself in a few sentences."
    placeholder="Write a short bio..."
    rows="3"
/>{% endverbatim %}{% endset %}
    {{ ui.story('With Hint', hintPreview, hintCode) }}

    {# With Error #}
    {% set errorPreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea
                name="description"
                label="Description"
                error="Description is required and must be at least 10 characters."
                rows="3"
            />
        </div>
    {% endset %}
    {% set errorCode %}{% verbatim %}<twig:ui:input:textarea
    name="description"
    label="Description"
    error="Description is required and must be at least 10 characters."
    rows="3"
/>{% endverbatim %}{% endset %}
    {{ ui.story('With Error', errorPreview, errorCode) }}

    {# Character Count #}
    {% set countPreview %}
        <div class="max-w-lg space-y-4">
            <twig:ui:input:textarea
                name="limited"
                label="Limited Input"
                :maxLength="150"
                placeholder="Maximum 150 characters..."
                rows="3"
            />
            <twig:ui:input:textarea
                name="counted"
                label="With Count Only"
                :showCount="true"
                placeholder="Character count shown below..."
                rows="3"
            />
        </div>
    {% endset %}
    {% set countCode %}{% verbatim %}{# With max length (shows count automatically) #}
<twig:ui:input:textarea
    name="limited"
    label="Limited Input"
    :maxLength="150"
    rows="3"
/>

{# Show count without limit #}
<twig:ui:input:textarea
    name="counted"
    label="With Count Only"
    :showCount="true"
    rows="3"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Character Count', countPreview, countCode) }}

    {# Size Options #}
    {% set sizesPreview %}
        <div class="max-w-lg space-y-4">
            <twig:ui:input:textarea name="small" size="sm" label="Small" placeholder="Small textarea" rows="2" />
            <twig:ui:input:textarea name="medium" size="md" label="Medium (default)" placeholder="Medium textarea" rows="2" />
            <twig:ui:input:textarea name="large" size="lg" label="Large" placeholder="Large textarea" rows="2" />
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:ui:input:textarea name="small" size="sm" label="Small" rows="2" />
<twig:ui:input:textarea name="medium" size="md" label="Medium" rows="2" />
<twig:ui:input:textarea name="large" size="lg" label="Large" rows="2" />{% endverbatim %}{% endset %}
    {{ ui.story('Size Options', sizesPreview, sizesCode) }}

    {# Resize Options #}
    {% set resizePreview %}
        <div class="max-w-lg space-y-4">
            <twig:ui:input:textarea name="resize_none" resize="none" label="No Resize" placeholder="Cannot be resized" rows="2" />
            <twig:ui:input:textarea name="resize_vertical" resize="vertical" label="Vertical (default)" placeholder="Resize vertically" rows="2" />
            <twig:ui:input:textarea name="resize_horizontal" resize="horizontal" label="Horizontal" placeholder="Resize horizontally" rows="2" />
            <twig:ui:input:textarea name="resize_both" resize="both" label="Both" placeholder="Resize in any direction" rows="2" />
        </div>
    {% endset %}
    {% set resizeCode %}{% verbatim %}<twig:ui:input:textarea resize="none" label="No Resize" />
<twig:ui:input:textarea resize="vertical" label="Vertical" />
<twig:ui:input:textarea resize="horizontal" label="Horizontal" />
<twig:ui:input:textarea resize="both" label="Both" />{% endverbatim %}{% endset %}
    {{ ui.story('Resize Options', resizePreview, resizeCode) }}

    {# Different Rows #}
    {% set rowsPreview %}
        <div class="max-w-lg space-y-4">
            <twig:ui:input:textarea name="rows2" rows="2" label="2 Rows" placeholder="Two visible rows" />
            <twig:ui:input:textarea name="rows4" rows="4" label="4 Rows" placeholder="Four visible rows" />
            <twig:ui:input:textarea name="rows6" rows="6" label="6 Rows" placeholder="Six visible rows" />
        </div>
    {% endset %}
    {% set rowsCode %}{% verbatim %}<twig:ui:input:textarea rows="2" label="2 Rows" />
<twig:ui:input:textarea rows="4" label="4 Rows" />
<twig:ui:input:textarea rows="6" label="6 Rows" />{% endverbatim %}{% endset %}
    {{ ui.story('Different Rows', rowsPreview, rowsCode) }}

    {# Disabled #}
    {% set disabledPreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea name="disabled" label="Disabled Textarea" disabled rows="3">This content cannot be edited.</twig:ui:input:textarea>
        </div>
    {% endset %}
    {% set disabledCode %}{% verbatim %}<twig:ui:input:textarea name="disabled" label="Disabled" disabled>
    This content cannot be edited.
</twig:ui:input:textarea>{% endverbatim %}{% endset %}
    {{ ui.story('Disabled', disabledPreview, disabledCode) }}

    {# Required #}
    {% set requiredPreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea name="required" label="Required Field" required rows="3" placeholder="This field is required" />
        </div>
    {% endset %}
    {% set requiredCode %}{% verbatim %}<twig:ui:input:textarea
    name="required"
    label="Required Field"
    required
    placeholder="This field is required"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Required', requiredPreview, requiredCode) }}

    {# Complete Example #}
    {% set completePreview %}
        <div class="max-w-lg">
            <twig:ui:input:textarea
                name="feedback"
                label="Feedback"
                placeholder="Share your thoughts..."
                hint="Your feedback helps us improve."
                :maxLength="500"
                rows="5"
                required
            />
        </div>
    {% endset %}
    {% set completeCode %}{% verbatim %}<twig:ui:input:textarea
    name="feedback"
    label="Feedback"
    placeholder="Share your thoughts..."
    hint="Your feedback helps us improve."
    :maxLength="500"
    rows="5"
    required
/>{% endverbatim %}{% endset %}
    {{ ui.story('Complete Example', completePreview, completeCode) }}
</div>
