{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'name', type: 'string | null', default: 'null', description: 'Form field name' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Input element ID' },
        { name: 'value', type: 'number', default: '1', description: 'Current quantity value' },
        { name: 'size', type: "'sm' | 'md' | 'lg'", default: "'md'", description: 'Input size' },
        { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
        { name: 'min', type: 'number', default: '1', description: 'Minimum value' },
        { name: 'max', type: 'number | null', default: 'null', description: 'Maximum value' },
        { name: 'step', type: 'number', default: '1', description: 'Step increment value' },
        { name: 'required', type: 'boolean', default: 'false', description: 'Required field' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Basic Quantity Input #}
    {% set basicPreview %}
        <div>
            <twig:ui:input:quantity name="quantity" />
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:ui:input:quantity name="quantity" />{% endverbatim %}{% endset %}
    {{ ui.story('Basic Quantity Input', basicPreview, basicCode) }}

    {# With Initial Value #}
    {% set valuePreview %}
        <div>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                Click the + and - buttons to change the value, or type directly in the input.
            </p>
            <twig:ui:input:quantity name="quantity-value" :value="5" />
        </div>
    {% endset %}
    {% set valueCode %}{% verbatim %}<twig:ui:input:quantity name="quantity" :value="5" />{% endverbatim %}{% endset %}
    {{ ui.story('With Initial Value', valuePreview, valueCode) }}

    {# With Min/Max #}
    {% set minMaxPreview %}
        <div class="space-y-4">
            <p class="text-sm text-gray-600 dark:text-gray-400">
                Value clamped between 1 and 10. The buttons will disable when limits are reached.
            </p>
            <twig:ui:input:quantity name="quantity-minmax" :min="1" :max="10" :value="5" />
        </div>
    {% endset %}
    {% set minMaxCode %}{% verbatim %}<twig:ui:input:quantity name="quantity" :min="1" :max="10" :value="5" />{% endverbatim %}{% endset %}
    {{ ui.story('With Min/Max Constraints', minMaxPreview, minMaxCode) }}

    {# Custom Step #}
    {% set stepPreview %}
        <div class="space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-2 block">Step: 1 (default)</span>
                <twig:ui:input:quantity name="quantity-step1" :step="1" :value="5" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-2 block">Step: 5</span>
                <twig:ui:input:quantity name="quantity-step5" :step="5" :value="10" :min="0" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-2 block">Step: 10</span>
                <twig:ui:input:quantity name="quantity-step10" :step="10" :value="50" :min="0" />
            </div>
        </div>
    {% endset %}
    {% set stepCode %}{% verbatim %}<twig:ui:input:quantity :step="1" />
<twig:ui:input:quantity :step="5" />
<twig:ui:input:quantity :step="10" />{% endverbatim %}{% endset %}
    {{ ui.story('Custom Step', stepPreview, stepCode) }}

    {# Sizes #}
    {% set sizesPreview %}
        <div class="space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-2 block">Small</span>
                <twig:ui:input:quantity name="quantity-sm" size="sm" :value="3" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-2 block">Medium (default)</span>
                <twig:ui:input:quantity name="quantity-md" size="md" :value="3" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-2 block">Large</span>
                <twig:ui:input:quantity name="quantity-lg" size="lg" :value="3" />
            </div>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:ui:input:quantity size="sm" />
<twig:ui:input:quantity size="md" />
<twig:ui:input:quantity size="lg" />{% endverbatim %}{% endset %}
    {{ ui.story('Sizes', sizesPreview, sizesCode) }}

    {# E-commerce Example #}
    {% set ecommercePreview %}
        <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 max-w-sm">
            <div class="flex items-center gap-4">
                <div class="size-16 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="size-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
                    </svg>
                </div>
                <div class="flex-1">
                    <h4 class="font-medium text-gray-900 dark:text-white">Product Name</h4>
                    <p class="text-sm text-gray-500 dark:text-gray-400">$29.99</p>
                </div>
                <twig:ui:input:quantity name="cart-qty" size="sm" :min="1" :max="99" :value="1" />
            </div>
        </div>
    {% endset %}
    {% set ecommerceCode %}{% verbatim %}{# E-commerce cart quantity #}
<twig:ui:input:quantity name="quantity" size="sm" :min="1" :max="99" :value="1" />{% endverbatim %}{% endset %}
    {{ ui.story('E-commerce Example', ecommercePreview, ecommerceCode) }}

    {# Disabled #}
    {% set disabledPreview %}
        <div>
            <twig:ui:input:quantity name="quantity-disabled" :value="3" disabled />
        </div>
    {% endset %}
    {% set disabledCode %}{% verbatim %}<twig:ui:input:quantity name="quantity" :value="3" disabled />{% endverbatim %}{% endset %}
    {{ ui.story('Disabled', disabledPreview, disabledCode) }}
</div>
