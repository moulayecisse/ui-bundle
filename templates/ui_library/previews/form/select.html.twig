{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'name', type: 'string | null', default: 'null', description: 'Form field name for submission' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Select element ID' },
        { name: 'value', type: 'string | null', default: 'null', description: 'Selected value' },
        { name: 'placeholder', type: 'string', default: "'SÃ©lectionnez une option'", description: 'Placeholder text for empty state' },
        { name: 'options', type: 'array', default: '[]', description: 'Array of options: [{value, label, disabled?}] or simple values' },
        { name: 'size', type: "'sm' | 'md' | 'lg'", default: "'md'", description: 'Select size' },
        { name: 'required', type: 'boolean', default: 'false', description: 'Whether field is required' },
        { name: 'autofocus', type: 'boolean', default: 'false', description: 'Autofocus on page load' },
        { name: 'autocomplete', type: 'string | null', default: 'null', description: 'Autocomplete attribute' },
        { name: 'disabled', type: 'boolean', default: 'false', description: 'Disable the select' },
        { name: 'invalid', type: 'boolean', default: 'false', description: 'Mark as invalid' },
        { name: 'form', type: 'FormView | null', default: 'null', description: 'Symfony form field for auto-configuration' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'content', description: 'Custom options (alternative to options prop)' },
    ]) }}

    {# Basic Select with Options Prop #}
    {% set basicPreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="country"
                :options="[
                    { value: 'us', label: 'United States' },
                    { value: 'ca', label: 'Canada' },
                    { value: 'mx', label: 'Mexico' },
                    { value: 'uk', label: 'United Kingdom' }
                ]"
            />
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:Ui:select
    name="country"
    :options="[
        { value: 'us', label: 'United States' },
        { value: 'ca', label: 'Canada' },
        { value: 'mx', label: 'Mexico' }
    ]"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Basic Select (options prop)', basicPreview, basicCode) }}

    {# With Block Content #}
    {% set blockPreview %}
        <div class="max-w-md">
            <twig:Ui:select name="fruit">
                <option value="">Select a fruit</option>
                <option value="apple">Apple</option>
                <option value="banana">Banana</option>
                <option value="cherry">Cherry</option>
            </twig:Ui:select>
        </div>
    {% endset %}
    {% set blockCode %}{% verbatim %}<twig:Ui:select name="fruit">
    <option value="">Select a fruit</option>
    <option value="apple">Apple</option>
    <option value="banana">Banana</option>
    <option value="cherry">Cherry</option>
</twig:Ui:select>{% endverbatim %}{% endset %}
    {{ ui.story('With Block Content', blockPreview, blockCode) }}

    {# Size Options #}
    {% set sizesPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <p class="text-xs text-gray-500 mb-1">Small (sm)</p>
                <twig:Ui:select
                    name="size_sm"
                    size="sm"
                    :options="[
                        { value: '1', label: 'Option 1' },
                        { value: '2', label: 'Option 2' },
                        { value: '3', label: 'Option 3' }
                    ]"
                />
            </div>
            <div>
                <p class="text-xs text-gray-500 mb-1">Medium (md) - default</p>
                <twig:Ui:select
                    name="size_md"
                    size="md"
                    :options="[
                        { value: '1', label: 'Option 1' },
                        { value: '2', label: 'Option 2' },
                        { value: '3', label: 'Option 3' }
                    ]"
                />
            </div>
            <div>
                <p class="text-xs text-gray-500 mb-1">Large (lg)</p>
                <twig:Ui:select
                    name="size_lg"
                    size="lg"
                    :options="[
                        { value: '1', label: 'Option 1' },
                        { value: '2', label: 'Option 2' },
                        { value: '3', label: 'Option 3' }
                    ]"
                />
            </div>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:Ui:select name="small" size="sm" :options="[...]" />
<twig:Ui:select name="medium" size="md" :options="[...]" />
<twig:Ui:select name="large" size="lg" :options="[...]" />{% endverbatim %}{% endset %}
    {{ ui.story('Size Options', sizesPreview, sizesCode) }}

    {# Custom Placeholder #}
    {% set placeholderPreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="priority"
                placeholder="Choose priority level..."
                :options="[
                    { value: 'low', label: 'Low Priority' },
                    { value: 'medium', label: 'Medium Priority' },
                    { value: 'high', label: 'High Priority' }
                ]"
            />
        </div>
    {% endset %}
    {% set placeholderCode %}{% verbatim %}<twig:Ui:select
    name="priority"
    placeholder="Choose priority level..."
    :options="[
        { value: 'low', label: 'Low Priority' },
        { value: 'medium', label: 'Medium Priority' },
        { value: 'high', label: 'High Priority' }
    ]"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Custom Placeholder', placeholderPreview, placeholderCode) }}

    {# With Pre-selected Value #}
    {% set valuePreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="status"
                value="active"
                :options="[
                    { value: 'draft', label: 'Draft' },
                    { value: 'active', label: 'Active' },
                    { value: 'archived', label: 'Archived' }
                ]"
            />
        </div>
    {% endset %}
    {% set valueCode %}{% verbatim %}<twig:Ui:select
    name="status"
    value="active"
    :options="[
        { value: 'draft', label: 'Draft' },
        { value: 'active', label: 'Active' },
        { value: 'archived', label: 'Archived' }
    ]"
/>{% endverbatim %}{% endset %}
    {{ ui.story('With Pre-selected Value', valuePreview, valueCode) }}

    {# Required #}
    {% set requiredPreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="required"
                required
                :options="[
                    { value: '1', label: 'Option 1' },
                    { value: '2', label: 'Option 2' }
                ]"
            />
        </div>
    {% endset %}
    {% set requiredCode %}{% verbatim %}<twig:Ui:select name="required" required :options="[...]" />{% endverbatim %}{% endset %}
    {{ ui.story('Required', requiredPreview, requiredCode) }}

    {# Disabled #}
    {% set disabledPreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="disabled"
                disabled
                value="locked"
                :options="[
                    { value: 'locked', label: 'Cannot change this value' }
                ]"
            />
        </div>
    {% endset %}
    {% set disabledCode %}{% verbatim %}<twig:Ui:select name="disabled" disabled value="locked" :options="[...]" />{% endverbatim %}{% endset %}
    {{ ui.story('Disabled', disabledPreview, disabledCode) }}

    {# With Disabled Options #}
    {% set disabledOptionsPreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="plan"
                :options="[
                    { value: 'free', label: 'Free Plan' },
                    { value: 'pro', label: 'Pro Plan' },
                    { value: 'enterprise', label: 'Enterprise (Coming Soon)', disabled: true }
                ]"
            />
        </div>
    {% endset %}
    {% set disabledOptionsCode %}{% verbatim %}<twig:Ui:select
    name="plan"
    :options="[
        { value: 'free', label: 'Free Plan' },
        { value: 'pro', label: 'Pro Plan' },
        { value: 'enterprise', label: 'Enterprise (Coming Soon)', disabled: true }
    ]"
/>{% endverbatim %}{% endset %}
    {{ ui.story('With Disabled Options', disabledOptionsPreview, disabledOptionsCode) }}

    {# With Option Groups #}
    {% set groupsPreview %}
        <div class="max-w-md">
            <twig:Ui:select name="groups">
                <option value="">Select a fruit</option>
                <optgroup label="Citrus">
                    <option value="orange">Orange</option>
                    <option value="lemon">Lemon</option>
                    <option value="grapefruit">Grapefruit</option>
                </optgroup>
                <optgroup label="Berries">
                    <option value="strawberry">Strawberry</option>
                    <option value="blueberry">Blueberry</option>
                    <option value="raspberry">Raspberry</option>
                </optgroup>
                <optgroup label="Tropical">
                    <option value="mango">Mango</option>
                    <option value="pineapple">Pineapple</option>
                </optgroup>
            </twig:Ui:select>
        </div>
    {% endset %}
    {% set groupsCode %}{% verbatim %}<twig:Ui:select name="groups">
    <option value="">Select a fruit</option>
    <optgroup label="Citrus">
        <option value="orange">Orange</option>
        <option value="lemon">Lemon</option>
    </optgroup>
    <optgroup label="Berries">
        <option value="strawberry">Strawberry</option>
        <option value="blueberry">Blueberry</option>
    </optgroup>
</twig:Ui:select>{% endverbatim %}{% endset %}
    {{ ui.story('With Option Groups', groupsPreview, groupsCode) }}

    {# Simple Values #}
    {% set simplePreview %}
        <div class="max-w-md">
            <twig:Ui:select
                name="simple"
                placeholder="Select a color"
                :options="['Red', 'Green', 'Blue', 'Yellow']"
            />
        </div>
    {% endset %}
    {% set simpleCode %}{% verbatim %}{# Simple array of values (value and label are the same) #}
<twig:Ui:select
    name="simple"
    placeholder="Select a color"
    :options="['Red', 'Green', 'Blue', 'Yellow']"
/>{% endverbatim %}{% endset %}
    {{ ui.story('Simple Values Array', simplePreview, simpleCode) }}
</div>
