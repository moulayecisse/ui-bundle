{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'name', type: 'string', default: "'phone'", description: 'Form field name' },
        { name: 'id', type: 'string | null', default: 'null', description: 'Input element ID' },
        { name: 'value', type: 'string', default: "''", description: 'Phone number value' },
        { name: 'placeholder', type: 'string', default: "'Phone number'", description: 'Placeholder text' },
        { name: 'size', type: "'sm' | 'md' | 'lg'", default: "'md'", description: 'Input size' },
        { name: 'disabled', type: 'boolean', default: 'false', description: 'Disabled state' },
        { name: 'showDialCode', type: 'boolean', default: 'false', description: 'Show dial code in input value' },
        { name: 'defaultCountry', type: 'string', default: "'FR'", description: 'Default country code (ISO 3166-1 alpha-2)' },
        { name: 'countries', type: 'array | null', default: 'null', description: 'Custom list of countries' },
        { name: 'required', type: 'boolean', default: 'false', description: 'Required field' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Country Structure #}
    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6">
        <h4 class="font-semibold text-blue-900 dark:text-blue-100 mb-2">Country Structure</h4>
        <pre class="text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-800 p-2 rounded">{{ '{
  code: "FR",
  name: "France",
  dialCode: "+33",
  flag: "ðŸ‡«ðŸ‡·",
  format: "## ## ## ## ##"
}' }}</pre>
    </div>

    {# Basic Phone Input #}
    {% set basicPreview %}
        <div class="max-w-md">
            <twig:Ui:input:phone name="phone" placeholder="Enter phone number..." />
        </div>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:Ui:input:phone name="phone" placeholder="Enter phone number..." />{% endverbatim %}{% endset %}
    {{ ui.story('Basic Phone Input', basicPreview, basicCode) }}

    {# With Country Selection #}
    {% set countryPreview %}
        <div class="max-w-md">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                Click the flag to select a different country. The phone format will adjust automatically.
            </p>
            <twig:Ui:input:phone name="phone-country" defaultCountry="US" />
        </div>
    {% endset %}
    {% set countryCode %}{% verbatim %}<twig:Ui:input:phone name="phone" defaultCountry="US" />

{# Available default countries: FR, US, GB, DE, ES, IT, BE, CH, CA, AU, ML, SN, CI, MA, TN, DZ #}{% endverbatim %}{% endset %}
    {{ ui.story('With Country Selection', countryPreview, countryCode) }}

    {# Different Default Countries #}
    {% set countriesPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-1 block">France (default)</span>
                <twig:Ui:input:phone name="phone-fr" defaultCountry="FR" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">United States</span>
                <twig:Ui:input:phone name="phone-us" defaultCountry="US" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">United Kingdom</span>
                <twig:Ui:input:phone name="phone-gb" defaultCountry="GB" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Mali</span>
                <twig:Ui:input:phone name="phone-ml" defaultCountry="ML" />
            </div>
        </div>
    {% endset %}
    {% set countriesCode %}{% verbatim %}<twig:Ui:input:phone defaultCountry="FR" />
<twig:Ui:input:phone defaultCountry="US" />
<twig:Ui:input:phone defaultCountry="GB" />
<twig:Ui:input:phone defaultCountry="ML" />{% endverbatim %}{% endset %}
    {{ ui.story('Different Default Countries', countriesPreview, countriesCode) }}

    {# Sizes #}
    {% set sizesPreview %}
        <div class="max-w-md space-y-4">
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Small</span>
                <twig:Ui:input:phone name="phone-sm" size="sm" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Medium (default)</span>
                <twig:Ui:input:phone name="phone-md" size="md" />
            </div>
            <div>
                <span class="text-xs text-gray-500 mb-1 block">Large</span>
                <twig:Ui:input:phone name="phone-lg" size="lg" />
            </div>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:Ui:input:phone size="sm" />
<twig:Ui:input:phone size="md" />
<twig:Ui:input:phone size="lg" />{% endverbatim %}{% endset %}
    {{ ui.story('Sizes', sizesPreview, sizesCode) }}

    {# With Label #}
    {% set labelPreview %}
        <div class="max-w-md">
            <twig:Ui:label for="phone-label">Phone Number</twig:Ui:label>
            <twig:Ui:input:phone name="phone-label" id="phone-label" required />
        </div>
    {% endset %}
    {% set labelCode %}{% verbatim %}<twig:Ui:label for="phone">Phone Number</twig:Ui:label>
<twig:Ui:input:phone name="phone" id="phone" required />{% endverbatim %}{% endset %}
    {{ ui.story('With Label', labelPreview, labelCode) }}

    {# Disabled #}
    {% set disabledPreview %}
        <div class="max-w-md">
            <twig:Ui:input:phone name="phone-disabled" disabled />
        </div>
    {% endset %}
    {% set disabledCode %}{% verbatim %}<twig:Ui:input:phone name="phone" disabled />{% endverbatim %}{% endset %}
    {{ ui.story('Disabled', disabledPreview, disabledCode) }}
</div>
