{% import '@Ui/ui_library/_macros.html.twig' as ui %}

<div class="space-y-6">
    {# Props Documentation #}
    {{ ui.props([
        { name: 'title', type: 'string', default: 'null', description: 'Modal title in header' },
        { name: 'description', type: 'string', default: 'null', description: 'Description text below title' },
        { name: 'size', type: "'default' | 'sm' | 'lg' | 'xl' | 'full'", default: "'default'", description: 'Modal width size' },
        { name: 'closeOnBackdrop', type: 'boolean', default: 'true', description: 'Close when clicking backdrop' },
        { name: 'closeOnEscape', type: 'boolean', default: 'true', description: 'Close when pressing Escape key' },
        { name: 'closeButtonLabel', type: 'string', default: "'Close'", description: 'Screen reader label for close button' },
        { name: 'hideCloseButton', type: 'boolean', default: 'false', description: 'Hide the close button entirely' },
        { name: 'centered', type: 'boolean', default: 'true', description: 'Center modal vertically' },
        { name: 'scrollBehavior', type: "'inside' | 'outside'", default: "'inside'", description: 'Where scrollbar appears for long content' },
        { name: 'position', type: "'center' | 'top' | 'bottom'", default: "'center'", description: 'Vertical position of modal' },
        { name: 'fullScreen', type: 'boolean', default: 'false', description: 'Display as fullscreen modal' },
        { name: 'open', type: 'boolean', default: 'false', description: 'Initial open state' },
        { name: 'class', type: 'string', default: "''", description: 'Additional CSS classes' },
    ]) }}

    {# Slots Documentation #}
    {{ ui.slots([
        { name: 'trigger', description: 'Element that triggers opening the modal' },
        { name: 'header', description: 'Custom header content (overrides title)' },
        { name: 'content', description: 'Modal body content' },
        { name: 'footer', description: 'Footer with action buttons' },
    ]) }}

    {# Basic Modal with Title #}
    {% set basicPreview %}
        <twig:ui:modal title="Modal Title" description="This is a description of the modal content.">
            <twig:block name="trigger">
                <twig:ui:button variant="primary">Open Modal</twig:ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    This modal has a title and description in the header. The close button appears on the right.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:ui:button>
                <twig:ui:button variant="primary">Confirm</twig:ui:button>
            </twig:block>
        </twig:ui:modal>
    {% endset %}
    {% set basicCode %}{% verbatim %}<twig:ui:modal title="Modal Title" description="Description text">
    {% block trigger %}
        <twig:ui:button variant="primary">Open Modal</twig:ui:button>
    {% endblock %}
    {% block content %}
        <p>Modal content goes here...</p>
    {% endblock %}
    {% block footer %}
        <twig:ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:ui:button>
        <twig:ui:button variant="primary">Confirm</twig:ui:button>
    {% endblock %}
</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Modal with Title & Footer', basicPreview, basicCode) }}

    {# Simple Modal (no header) #}
    {% set simplePreview %}
        <twig:ui:modal>
            <twig:block name="trigger">
                <twig:ui:button variant="outline">Simple Modal</twig:ui:button>
            </twig:block>
            <twig:block name="content">
                <div class="text-center py-4">
                    <twig:ux:icon name="lucide:check-circle" class="size-16 text-green-500 mx-auto mb-4" />
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Success!</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-6">Your action was completed successfully.</p>
                    <twig:ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">Close</twig:ui:button>
                </div>
            </twig:block>
        </twig:ui:modal>
    {% endset %}
    {% set simpleCode %}{% verbatim %}<twig:ui:modal>
    {% block trigger %}
        <twig:ui:button variant="outline">Simple Modal</twig:ui:button>
    {% endblock %}
    {% block content %}
        <div class="text-center py-4">
            <h3>Success!</h3>
            <p>Your action was completed.</p>
            <twig:ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">Close</twig:ui:button>
        </div>
    {% endblock %}
</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Simple Modal (no header)', simplePreview, simpleCode) }}

    {# Size Options #}
    {% set sizesPreview %}
        <div class="flex flex-wrap gap-3">
            <twig:ui:modal size="sm" title="Small Modal">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">Small</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is a small modal (max-w-md).</p>
                </twig:block>
            </twig:ui:modal>
            <twig:ui:modal size="default" title="Default Modal">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">Default</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is the default modal size (max-w-3xl).</p>
                </twig:block>
            </twig:ui:modal>
            <twig:ui:modal size="lg" title="Large Modal">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">Large</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is a large modal (max-w-5xl).</p>
                </twig:block>
            </twig:ui:modal>
            <twig:ui:modal size="xl" title="Extra Large Modal">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">XL</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This is an extra large modal (max-w-7xl).</p>
                </twig:block>
            </twig:ui:modal>
        </div>
    {% endset %}
    {% set sizesCode %}{% verbatim %}<twig:ui:modal size="sm" title="Small">...</twig:ui:modal>
<twig:ui:modal size="default" title="Default">...</twig:ui:modal>
<twig:ui:modal size="lg" title="Large">...</twig:ui:modal>
<twig:ui:modal size="xl" title="Extra Large">...</twig:ui:modal>
<twig:ui:modal size="full" title="Full Width">...</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Size Options', sizesPreview, sizesCode) }}

    {# Non-dismissible Modal #}
    {% set nonDismissiblePreview %}
        <twig:ui:modal title="Important Action" :closeOnBackdrop="false" :closeOnEscape="false">
            <twig:block name="trigger">
                <twig:ui:button variant="danger">Open Non-dismissible</twig:ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    This modal cannot be closed by clicking outside or pressing Escape. You must click a button to close it.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">I Understand</twig:ui:button>
            </twig:block>
        </twig:ui:modal>
    {% endset %}
    {% set nonDismissibleCode %}{% verbatim %}<twig:ui:modal
    title="Important Action"
    :closeOnBackdrop="false"
    :closeOnEscape="false"
>
    {% block content %}
        <p>This modal requires explicit action to close.</p>
    {% endblock %}
    {% block footer %}
        <twig:ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">
            I Understand
        </twig:ui:button>
    {% endblock %}
</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Non-dismissible Modal', nonDismissiblePreview, nonDismissibleCode) }}

    {# Confirmation Dialog Style #}
    {% set confirmPreview %}
        <twig:ui:modal size="sm" title="Delete Item">
            <twig:block name="trigger">
                <twig:ui:button variant="danger" icon="lucide:trash">Delete</twig:ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    Are you sure you want to delete this item? This action cannot be undone.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:ui:button>
                <twig:ui:button variant="danger">Delete</twig:ui:button>
            </twig:block>
        </twig:ui:modal>
    {% endset %}
    {% set confirmCode %}{% verbatim %}<twig:ui:modal size="sm" title="Delete Item">
    {% block trigger %}
        <twig:ui:button variant="danger" icon="lucide:trash">Delete</twig:ui:button>
    {% endblock %}
    {% block content %}
        <p>Are you sure you want to delete this item?</p>
    {% endblock %}
    {% block footer %}
        <twig:ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Cancel</twig:ui:button>
        <twig:ui:button variant="danger">Delete</twig:ui:button>
    {% endblock %}
</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Confirmation Dialog Style', confirmPreview, confirmCode) }}

    {# Position Options #}
    {% set positionPreview %}
        <div class="flex flex-wrap gap-3">
            <twig:ui:modal position="top" title="Top Position">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">Top</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This modal appears at the top of the viewport.</p>
                </twig:block>
            </twig:ui:modal>
            <twig:ui:modal position="center" title="Center Position">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">Center</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This modal appears centered (default).</p>
                </twig:block>
            </twig:ui:modal>
            <twig:ui:modal position="bottom" title="Bottom Position">
                <twig:block name="trigger">
                    <twig:ui:button variant="outline" size="sm">Bottom</twig:ui:button>
                </twig:block>
                <twig:block name="content">
                    <p class="text-gray-600 dark:text-gray-400">This modal appears at the bottom of the viewport.</p>
                </twig:block>
            </twig:ui:modal>
        </div>
    {% endset %}
    {% set positionCode %}{% verbatim %}<twig:ui:modal position="top" title="Top">...</twig:ui:modal>
<twig:ui:modal position="center" title="Center">...</twig:ui:modal>
<twig:ui:modal position="bottom" title="Bottom">...</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Position Options', positionPreview, positionCode) }}

    {# Hide Close Button #}
    {% set hideClosePreview %}
        <twig:ui:modal title="No Close Button" hideCloseButton :closeOnBackdrop="false">
            <twig:block name="trigger">
                <twig:ui:button variant="outline">Open Modal</twig:ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    This modal has no close button. Users must use the action buttons to close it.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">Got it</twig:ui:button>
            </twig:block>
        </twig:ui:modal>
    {% endset %}
    {% set hideCloseCode %}{% verbatim %}<twig:ui:modal title="No Close Button" hideCloseButton :closeOnBackdrop="false">
    {% block content %}
        <p>This modal has no close button.</p>
    {% endblock %}
    {% block footer %}
        <twig:ui:button variant="primary" data-action="click->cisse--ui-bundle--modal#close">Got it</twig:ui:button>
    {% endblock %}
</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Hide Close Button', hideClosePreview, hideCloseCode) }}

    {# Fullscreen Modal #}
    {% set fullscreenPreview %}
        <twig:ui:modal title="Fullscreen Modal" fullScreen>
            <twig:block name="trigger">
                <twig:ui:button variant="primary" icon="lucide:maximize">Fullscreen</twig:ui:button>
            </twig:block>
            <twig:block name="content">
                <p class="text-gray-600 dark:text-gray-400">
                    This modal takes up the entire screen. Great for complex forms or detailed content.
                </p>
            </twig:block>
            <twig:block name="footer">
                <twig:ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Close</twig:ui:button>
                <twig:ui:button variant="primary">Save</twig:ui:button>
            </twig:block>
        </twig:ui:modal>
    {% endset %}
    {% set fullscreenCode %}{% verbatim %}<twig:ui:modal title="Fullscreen Modal" fullScreen>
    {% block content %}
        <p>This modal takes up the entire screen.</p>
    {% endblock %}
    {% block footer %}
        <twig:ui:button variant="outline" data-action="click->cisse--ui-bundle--modal#close">Close</twig:ui:button>
        <twig:ui:button variant="primary">Save</twig:ui:button>
    {% endblock %}
</twig:ui:modal>{% endverbatim %}{% endset %}
    {{ ui.story('Fullscreen Modal', fullscreenPreview, fullscreenCode) }}
</div>
