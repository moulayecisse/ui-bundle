{% props
  open = false,
  title = 'Confirm',
  message = 'Are you sure you want to proceed?',
  confirmText = 'Confirm',
  cancelText = 'Cancel',
  variant = 'info',
  loading = false,
  icon = null,
  class = '',
%}

{% set variantConfig = {
  'info': { icon: 'lucide:info', iconClass: 'text-blue-500', buttonClass: 'bg-primary-500 hover:bg-primary-600 text-white' },
  'warning': { icon: 'lucide:alert-triangle', iconClass: 'text-yellow-500', buttonClass: 'bg-primary-500 hover:bg-primary-600 text-white' },
  'danger': { icon: 'lucide:alert-circle', iconClass: 'text-red-500', buttonClass: 'bg-red-500 hover:bg-red-600 text-white' },
  'success': { icon: 'lucide:check-circle', iconClass: 'text-green-500', buttonClass: 'bg-green-500 hover:bg-green-600 text-white' },
} %}

{% set config = variantConfig[variant] ?? variantConfig['info'] %}
{% set iconName = icon ?? config.icon %}

<twig:Ui:modal :open="open" size="sm" {{ attributes }}>
  <div class="text-center {{ class }}">
    {# Icon #}
    <div class="mx-auto mb-4 flex size-14 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800">
      <twig:ux:icon :name="iconName" class="size-8 {{ config.iconClass }}" />
    </div>

    {# Title #}
    <h3 class="mb-2 text-lg font-semibold text-gray-900 dark:text-gray-100">
      {% block title %}{{ title }}{% endblock %}
    </h3>

    {# Message #}
    <p class="mb-6 text-gray-600 dark:text-gray-400">
      {% block message %}{{ message }}{% endblock %}
    </p>

    {# Actions #}
    <div class="flex justify-center gap-3">
      {% block actions %}
        <twig:Ui:button
          type="button"
          class="border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"
          :disabled="loading"
          data-action="click->cisse--ui-bundle--modal#close"
        >
          {{ cancelText }}
        </twig:Ui:button>
        <twig:Ui:button
          type="submit"
          class="{{ config.buttonClass }}"
          :disabled="loading"
        >
          {% if loading %}
            <twig:ux:icon name="lucide:loader-2" class="size-4 animate-spin mr-2" />
          {% endif %}
          {{ confirmText }}
        </twig:Ui:button>
      {% endblock %}
    </div>
  </div>
</twig:Ui:modal>
