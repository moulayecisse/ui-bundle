{# templates/components/Ui/modal.html.twig #}
{% props
    size = 'default',
    closeOnBackdrop = true,
    closeOnEscape = true,
    open = false,
    class = ''
%}


<div
        {{ attributes }}
        data-controller="cisse--ui-bundle--modal"
        data-cisse--ui-bundle--modal-close-on-backdrop-value="{{ closeOnBackdrop ? 'true' : 'false' }}"
        data-cisse--ui-bundle--modal-close-on-escape-value="{{ closeOnEscape ? 'true' : 'false' }}"
        data-cisse--ui-bundle--modal-open-value="{{ open ? 'true' : 'false' }}"
        data-cisse--ui-bundle--modal-size-value="{{ size }}"
>
    <!-- Trigger -->
    <div data-action="click->cisse--ui-bundle--modal#toggle">
        {% block trigger %}
            <button
                    class="px-4 py-3 text-sm font-medium text-white rounded-lg bg-primary-500 shadow-theme-xs hover:bg-primary-600 transition-colors"
            >
                Open Modal
            </button>
        {% endblock %}
    </div>

    <!-- Modal -->
    <div
            data-cisse--ui-bundle--modal-target="modal"
            class="fixed inset-0 flex items-center justify-center p-5 overflow-y-auto z-50 {{ class }}"
            style="display: none;"
            role="dialog"
            aria-modal="true"
            aria-hidden="true"
    >
        <!-- Backdrop -->
        <div
                data-cisse--ui-bundle--modal-target="backdrop"
                class="fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[32px]"
        ></div>

        <!-- Content -->
        <div
                data-cisse--ui-bundle--modal-target="content"
                data-size="{{ size }}"
                class="relative w-full max-w-[584px] data-[size=sm]:max-w-sm data-[size=lg]:max-w-2xl data-[size=xl]:max-w-4xl data-[size=full]:max-w-full data-[size=full]:mx-4 rounded-xl bg-white p-6 dark:bg-black lg:p-10 shadow-2xl"
        >
            <!-- Close Button -->
            <button
                    data-cisse--ui-bundle--modal-target="closeButton"
                    data-action="click->cisse--ui-bundle--modal#close"
                    class="group absolute right-3 top-3 z-10 flex size-8 items-center justify-center rounded-full bg-gray-200 text-gray-500 transition-colors hover:bg-gray-300 hover:text-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-200 sm:right-6 sm:top-6"
                    aria-label="Close modal"
            >
                <twig:ux:icon
                        name="heroicons:x-mark-16-solid"
                        class="size-4 transition-colors fill-current"
                />
            </button>

            <!-- Modal Content -->
            {% block content '' %}
        </div>
    </div>
</div>