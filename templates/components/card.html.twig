{% props
    class = '',
    title = '',
    description = '',
    content = '',
    divide = false,
    headerAttributes = {},
    tag = 'div',
%}

{% set cardTitleBlock %}{% block title title|raw %}{% endset %}
{% set cardDescriptionBlock %}{% block description description|raw %}{% endset %}
{% set cardActionsBlock %}{% block actions '' %}{% endset %}
{% set cardHeaderBlock %}{% block header '' %}{% endset %}
{% set cardContentBlock %}{% block content '' %}{% endset %}
{% set cardFooterBlock %}{% block footer '' %}{% endset %}
{% set showHeader = cardTitleBlock|trim or cardDescriptionBlock|trim or cardActionsBlock|trim or cardHeaderBlock|trim %}
{% set showFooter = cardFooterBlock|trim != '' %}

<{{ tag }}
    {{ attributes }}
    class="{{ ('flex flex-col rounded-xl bg-white dark:bg-black border border-gray-200 dark:border-gray-800 ' ~ class)|tailwind_merge }}"
>
    {% block wrapper %}
        {% if showHeader %}
            <twig:Ui:card:header {{ ...attributes.nested('header') }}>
                <twig:Ui:card:title {{ ...attributes.nested('title') }}>{{ cardTitleBlock|raw }}</twig:Ui:card:title>
                <twig:Ui:card:description {{ ...attributes.nested('description') }}>{{ cardDescriptionBlock|raw }}</twig:Ui:card:description>

                <twig:block name="actions">
                    <twig:Ui:card:actions {{ ...attributes.nested('actions') }}>{{ cardActionsBlock|raw }}</twig:Ui:card:actions>
                </twig:block>
            </twig:Ui:card:header>
        {% endif %}

        {% if divide and showHeader %}
            <twig:Ui:divider />
        {% endif %}

        <twig:Ui:card:content {{ ...attributes.nested('content') }}>
            {{ cardContentBlock|raw }}
        </twig:Ui:card:content>

        {% if divide and showFooter %}
            <twig:Ui:divider />
        {% endif %}

        {% if showFooter %}
            <twig:Ui:card:footer {{ ...attributes.nested('footer') }}>
                {{ cardFooterBlock|raw }}
            </twig:Ui:card:footer>
        {% endif %}
    {% endblock %}
</{{ tag }}>
