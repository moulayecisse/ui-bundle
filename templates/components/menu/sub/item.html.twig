{# templates/components/Ui/menu/sub/item.html.twig #}
{% props
    active = null,
    href = null,
    label = null,
    icon = null
%}

<li
        {{ attributes }}
        data-active="{{ active ? 'true' : 'false' }}"
        class="group/sub"
>
    <a
            href="{{ href ?? '#' }}"
            class="relative flex items-center gap-3 px-3 py-2 font-medium rounded-lg text-sm transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-900 group-data-[active=true]/sub:bg-primary group-data-[active=true]/sub:hover:bg-primary/90 dark:group-data-[active=true]/sub:hover:bg-primary/90"
    >
        {% block content %}
            {% block icon %}
                <twig:ux:icon
                        name="{{ icon ?: 'heroicons:bars-3-16-solid' }}"
                        class="size-4 transition-colors flex-shrink-0 text-gray-600 dark:text-gray-400 group-data-[active=true]/sub:text-primary-foreground dark:group-data-[active=true]/sub:text-primary-foreground"
                />
            {% endblock %}

            <span class="transition-colors text-gray-600 dark:text-gray-400 group-data-[active=true]/sub:text-primary-foreground dark:group-data-[active=true]/sub:text-primary-foreground in-data-[collapsed]:hidden">
                {% block label label %}
            </span>
            
            <!-- Popover for collapsed state -->
            <div class="hidden in-data-[collapsed]:group-hover:block absolute left-full ml-2 top-1/2 -translate-y-1/2 z-50 px-2 py-1 bg-gray-900 dark:bg-gray-800 text-white text-sm rounded shadow-lg whitespace-nowrap pointer-events-none">
                {{ label }}
            </div>
        {% endblock %}
    </a>
</li>