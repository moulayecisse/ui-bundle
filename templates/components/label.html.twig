{% props
  form = null,
  for = null,
  class = '',
  label = null,
  required = null,
  size = 'md',
  weight = 'medium',
  hideRequired = false,
  optionalText = null,
%}

{% if form %}
  {% set for = for ?? field_name(form) %}
  {% set label = label ?? field_label(form) %}
  {% set required = required is not null ? required : form.vars.required %}
{% endif %}

{% set sizeConfig = {
  'sm': 'text-xs',
  'md': 'text-sm/6',
  'lg': 'text-base',
} %}

{% set weightConfig = {
  'normal': 'font-normal',
  'medium': 'font-medium',
  'semibold': 'font-semibold',
  'bold': 'font-bold',
} %}

{% set currentSize = sizeConfig[size] ?? sizeConfig['md'] %}
{% set currentWeight = weightConfig[weight] ?? weightConfig['medium'] %}

{% set class = ('block text-slate-900 dark:text-slate-100 ' ~ currentSize ~ ' ' ~ currentWeight ~ ' ' ~ class)|tailwind_merge %}

<label
  {{ attributes.without('class') }}
  for="{{ for }}"
  class="{{ class }}"
>
  {% block content %}
    {{ label ?? '' }}
    {% if required and not hideRequired %}
      <span class="text-red-500" aria-hidden="true">*</span>
    {% elseif not required and optionalText %}
      <span class="text-slate-400 dark:text-slate-500 font-normal">({{ optionalText }})</span>
    {% endif %}
  {% endblock %}
</label>